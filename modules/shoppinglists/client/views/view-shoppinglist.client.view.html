<section>
  <div class="page-header">
  <div style="color: {{vm.shoppinglist.color}}">
    <h1 ng-bind="vm.shoppinglist.name"></h1>
  </div>
    <small>
    <em class="text-muted">
      Created on
      <span ng-bind="vm.shoppinglist.created | date:'medium'"></span>
      <br/>
      Updated on 
      <span ng-bind="vm.shoppinglist.updated | date:'medium'"></span>
      by
      <span ng-if="vm.shoppinglist.user"
            ng-bind="vm.shoppinglist.user.displayName"></span>
      <span ng-if="!vm.shoppinglist.user">Deleted User</span>
    </em>
    </small>
  </div>
  
  <table class="table">
    <thead>
      <tr>
        <th style="width: 5%">Done</th>
        <th style="width: 20%">Item</th>
        <th style="width: 10%">Quantity</th>
        <th style="width: 20%">Priority</th>
        <th style="width: 45%">Delete</th>
      </tr>
    </thead>
    <tbody style="color: {{vm.shoppinglist.color}}">
      <tr ng-repeat="item in vm.shoppinglist.items">
        <td><input type="checkbox" ng-model="item.isChecked" /></td>
        <td ng-class="{'item-done' : item.isChecked}">{{item.name}}</td>
        <td ng-class="{'item-done' : item.isChecked}">{{item.quantity}}</td>
        <td ng-class="{'item-done' : item.isChecked}">{{item.priority}}</td>
        <td><span class="fa fa-times" ng-click="removeItem(item.$index)"></span></td>
      </tr>
    </tbody>
  </table>

  <button type="button" ng-click="deleteChecked()">Removed Checked</button>

  {{vm.shoppinglist.items}}

  <div class="pull-right"
       ng-show="vm.shoppinglist.isCurrentUserOwner">
    <a class="btn btn-primary"
       ui-sref="shoppinglists.edit({ shoppinglistId: vm.shoppinglist._id })">
      <i class="glyphicon glyphicon-edit"></i>
    </a>
    <a class="btn btn-danger" ng-click="vm.remove()">
      <i class="glyphicon glyphicon-trash"></i>
    </a>
  </div>
  
  <p class="lead" ng-bind="vm.shoppinglist.content"></p>
</section>
